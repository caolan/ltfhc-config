---

- name: Create sync scripts directory
  file: path=/opt/ltfhc-sync state=directory
  sudo: yes

- name: Install and customise bootstrap.py
  template: src=files/opt/ltfhc-sync/bootstrap.py.template dest=/opt/ltfhc-sync/bootstrap.py mode=744
  sudo: yes

- name: Install and customise diff.py
  template: src=files/opt/ltfhc-sync/diff.py.template dest=/opt/ltfhc-sync/diff.py mode=744
  sudo: yes

- name: Install and customise diff cron job
  template: src=files/etc/cron.d/diff.template dest=/etc/cron.d/diff
  sudo: yes

#- name: Install and customise target.py
#  template: src=files/opt/ltfhc-sync/target.py.template dest=/opt/ltfhc-sync/target.py mode=744
#  sudo: yes

- name: Install and customise sync cron job
  template: src=files/etc/cron.d/sync.template dest=/etc/cron.d/sync
  sudo: yes
